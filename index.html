<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/fontawesome/css/all.css" rel="stylesheet"> <!--load all styles -->
  <link rel="stylesheet" href="/style.css?v=1">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
  crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
  integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
  crossorigin=""></script>
  <script src="snake/L.Polyline.SnakeAnim.js"></script>
</head>
<body>


<div class="bgimg-1" id="intro">
  <div class="section">
    <span class="border">Projet Simpl</span>
    <div>
    <span class="heading2">"La technologie doit être au service de l’économie de proximité!</span>
    <span class="heading2">Ensemble inventons l’e-commerce de proximité"</span>
    </div>
    <a href="#map" class="next"><i class="fas fa-chevron-circle-down"></i></a>
  </div>
</div>

<!-- <div style="color: #777;background-color:white;text-align:center;padding:50px 80px;text-align: justify;">
  <h3 style="text-align:center;">Projet Simpl</h3>
  <p>“La technologie doit être au service de l’économie de proximité! Ensemble inventons l’e-commerce de proximité”</p>
</div> -->

<div class="bgimg-2" id="map">
  <div id="map-container" class="map-container"></div>
  <div class="map-overlay" onclick='snake()'></div>
  <a href="#contact" class="next"><i class="fas fa-chevron-circle-down"></i></a>
</div>
<!--
<div style="position:relative;">
  <div style="color:#ddd;background-color:#282E34;text-align:center;padding:50px 80px;text-align: justify;">
  <p>Scroll up and down to really get the feeling of how Parallax Scrolling works.</p>
  </div>
</div> -->

<div class="bgimg-3" id="contact">
  <div class="contact-section">
     <div class="contact-section-1">Je suis intéressé par ce projet</div>
     <div class="contact-section-2">
       Je souhaite être rappelé
       <div>
         <input type="text" name="" value="" placeholder="numéro de téléphone">
       </div>
    </div>
    <div class="contact-section-2">
       Je souhaite être tenu informé de l’avancement du projet
       <div>
         <input type="text" name="" value="" placeholder="email">
      </div>
      <div>
         <textarea name="info" rows="8" cols="80" placeholder="coordonnée..."></textarea>
       </div>
     </div>
  </div>
  <a href="#intro" class="next"><i class="fas fa-chevron-circle-up"></i></a>
</div>

<!-- <div style="position:relative;">
  <div style="color:#ddd;background-color:#282E34;text-align:center;padding:50px 80px;text-align: justify;">
  <p>Scroll up and down to really get the feeling of how Parallax Scrolling works.</p>
  </div>
</div> -->

<!-- <div class="bgimg-1">
  <div class="caption">
  <span class="border">Good luck ;)</span>
  </div>
</div> -->


<script>
var route = [
  [48.86236,2.35205],
  [48.86221,2.35295],
  [48.86164,2.35272],
  [48.86131,2.3542]
]

  for (var i = 0, latlngs = [], len = route.length; i < len; i++) {
    latlngs.push(new L.LatLng(route[i][0], route[i][1]));
  }

  var path = L.polyline(latlngs, {
    snakingSpeed: 300,
    snakingPause: 200
  });

  var map = L.map('map-container');

  var positron = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy;'
  }).addTo(map);


  map.fitBounds(L.latLngBounds(latlngs));

  var myIcon = L.divIcon({
    className: 'my-div-icon',
    iconSize: [100, 100],
    html: '<b>Petrica</b>'
  });

  map.addLayer(L.marker(latlngs[0]).bindTooltip("<b>Pierre</b> cherche un cadeau en urgence sur google: <br /><i><u>bijoux originaux nantes</u></i>", {
    permanent:true,
    className: 'tooltip',
    direction: 'top',
    opacity: 1,
    offset: L.point(0, -10)
  }).openTooltip());
  map.addLayer(L.marker(latlngs[len - 1]).bindTooltip("Grâce à la visio, Delphine la gérante conseille<br /><b>Pierre</b> dans sa recherche et lui montre ses dernières créations", {
    permanent:true,
    className: 'tooltip',
    direction: 'bottom',
    opacity: 1
  }).openTooltip());

  map.addLayer(path);

  //path.bindPopup("Hello world");


  function snake() {
    path.snakeIn();
  }

  window.onscroll = function() {myFunction()};

function myFunction() {
  var h = document.body.clientHeight
  var hh = h / 2
  var s = false
  if (document.body.scrollTop > hh || document.documentElement.scrollTop > hh) {
    //document.getElementById("myP").className = "test";
    path.snakeIn()
  } else {
    //document.getElementById("myP").className = "";
  }
}

  // path.on('snakestart snake snakeend', function(ev){
  // 	console.log(ev.type);
  // });


</script>
</body>
</html>
